<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìŠ¤ì¿ ë²„ ë‹¤ì´ë¹™ ê³„ì‚°ê¸°</title>
  <style>
    body {
      background-color: white;
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      color: #222;
    }

    header {
      background-color: #005f73;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.3rem;
    }

    .tabs {
      display: flex;
      background-color: #e0f7fa;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 1rem;
      cursor: pointer;
      font-weight: bold;
      border-bottom: 3px solid transparent;
    }

    .tab.active {
      border-bottom: 3px solid #0077b6;
      background-color: #caf0f8;
    }

    .content {
      padding: 1rem;
      display: none;
    }

    .content.active {
      display: block;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
    }

    input {
      width: 100%;
      padding: 0.6rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    button {
      background-color: #0077b6;
      color: white;
      border: none;
      padding: 0.7rem 1.2rem;
      font-size: 1rem;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 1rem;
    }

    .result {
      margin-top: 1rem;
      font-size: 1.1rem;
      background: #f1f1f1;
      padding: 1rem;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <header>ìŠ¤ì¿ ë²„ ë‹¤ì´ë¹™ ê³„ì‚°ê¸°</header>

  <div class="tabs">
    <div class="tab active" onclick="showTab('rmv-single')">RMV (ì‹±ê¸€)</div>
    <div class="tab" onclick="showTab('rmv-double')">RMV (ë”ë¸”)</div>
    <div class="tab" onclick="showTab('nitrox')">ë‚˜ì´íŠ¸ë¡ìŠ¤</div>
    <div class="tab" onclick="showTab('trimix')">íŠ¸ë¼ì´ë¯¹ìŠ¤</div>
  </div>

  <!-- RMV ì‹±ê¸€ íƒ­ -->
  <div id="rmv-single" class="content active">
    <div class="form-group">
      <label>ì…ìˆ˜ íƒ±í¬ì••ë ¥ (bar)</label>
      <input type="number" id="rmv1_start" />
    </div>
    <div class="form-group">
      <label>ì¶œìˆ˜ íƒ±í¬ì••ë ¥ (bar)</label>
      <input type="number" id="rmv1_end" />
    </div>
    <div class="form-group">
      <label>í‰ê· ìˆ˜ì‹¬ (m)</label>
      <input type="number" id="rmv1_depth" />
    </div>
    <div class="form-group">
      <label>ë‹¤ì´ë¹™ ì‹œê°„ (ë¶„)</label>
      <input type="number" id="rmv1_time" />
    </div>
    <button onclick="calcRMV('single')">ê³„ì‚°í•˜ê¸°</button>
    <div class="result" id="rmv1_result"></div>
  </div>

  <!-- RMV ë”ë¸” íƒ­ -->
  <div id="rmv-double" class="content">
    <div class="form-group">
      <label>ì…ìˆ˜ íƒ±í¬ì••ë ¥ (bar)</label>
      <input type="number" id="rmv2_start" />
    </div>
    <div class="form-group">
      <label>ì¶œìˆ˜ íƒ±í¬ì••ë ¥ (bar)</label>
      <input type="number" id="rmv2_end" />
    </div>
    <div class="form-group">
      <label>í‰ê· ìˆ˜ì‹¬ (m)</label>
      <input type="number" id="rmv2_depth" />
    </div>
    <div class="form-group">
      <label>ë‹¤ì´ë¹™ ì‹œê°„ (ë¶„)</label>
      <input type="number" id="rmv2_time" />
    </div>
    <div class="form-group">
      <label>ë°ì½”íƒ±í¬ ê°œìˆ˜ (1~3)</label>
      <input type="number" id="rmv2_deco" min="0" max="3" />
    </div>
    <button onclick="calcRMV('double')">ê³„ì‚°í•˜ê¸°</button>
    <div class="result" id="rmv2_result"></div>
  </div>

  <!-- ë‚˜ì´íŠ¸ë¡ìŠ¤ -->
  <div id="nitrox" class="content">
    <p>ğŸ›  ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤...</p>
  </div>

  <!-- íŠ¸ë¼ì´ë¯¹ìŠ¤ -->
  <div id="trimix" class="content">
    <p>ğŸ›  ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤...</p>
  </div>

  <script>
    // íƒ­ ì „í™˜ ì²˜ë¦¬
    function showTab(id) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      event.target.classList.add('active');
    }

    // RMV ê³„ì‚° í•¨ìˆ˜
    function calcRMV(type) {
      let start, end, depth, time, deco, tankVolume;
      if (type === 'single') {
        start = Number(document.getElementById('rmv1_start').value);
        end = Number(document.getElementById('rmv1_end').value);
        depth = Number(document.getElementById('rmv1_depth').value);
        time = Number(document.getElementById('rmv1_time').value);
        tankVolume = 11; // ì‹±ê¸€íƒ±í¬
      } else {
        start = Number(document.getElementById('rmv2_start').value);
        end = Number(document.getElementById('rmv2_end').value);
        depth = Number(document.getElementById('rmv2_depth').value);
        time = Number(document.getElementById('rmv2_time').value);
        deco = Number(document.getElementById('rmv2_deco').value);
        if (deco < 0) deco = 0;
        if (deco > 3) deco = 3;
        tankVolume = 22 + (11 * deco); // ë”ë¸”íƒ±í¬ + ë°ì½”íƒ±í¬
      }

      const usedBar = start - end;
      const ambientPressure = (depth / 10) + 1;
      const gasUsed = usedBar * tankVolume;
      const rmv = gasUsed / (ambientPressure * time);

      const result = `RMV = ${rmv.toFixed(1)} L/min`;
      const output = type === 'single' ? 'rmv1_result' : 'rmv2_result';
      document.getElementById(output).innerText = result;
    }
  </script>
</body>
</html>
